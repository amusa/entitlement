<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:b="http://bootsfaces.net/ui">

    <ui:composition template="/cosm-template.xhtml">


        <ui:define name="title">
            <h:outputText value="Use Template"></h:outputText>
        </ui:define>

        <ui:define name="page-title">
            <h:outputText value="ENTITLEMENT"></h:outputText>
        </ui:define>

        <ui:define name="content-area">  
            <!-- Modal Default -->
            <div class="m-b-20">
                <h:form>
                    <h:commandButton value="Create 2" pt:look="warning" pt:data-target="#modalDefault" pt:data-toggle="modal" 
                                     class="btn btn-sm" >
                        <f:ajax event="click" listener="#{jvProdController.prepareCreate}" render="JVCreateForm"/>

                    </h:commandButton>


                </h:form>
            </div>
            <div class="modal fade" id="modalDefault" tabindex="-1" role="dialog" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">times;</button>
                            <h4 class="modal-title">Create JV Production</h4>
                        </div>
                        <div class="modal-body">
                            <h:form id="JVCreateForm">
                                <h:panelGrid id="ActualParamPanel" columns="2" rendered="#{jvProdController.currentProduction ne null}">
                                    <h:outputLabel value="Year" for="periodYear2"/>
                                    <h:selectOneMenu id="periodYear2" value="#{jvProdController.currentProduction.periodYear}" class="form-control input-sm m-b-10" >                                              
                                        <f:selectItems value="#{generalController.yearsAvailableSelectOne}" var="year" itemValue="#{year.value}"/>   
                                        <f:ajax listener="#{generalController.yearChanged}" event="change" render="periodMonth2"/>     
                                    </h:selectOneMenu>                                                                  

                                    <h:outputLabel value="Month" for="periodMonth2"/>
                                    <h:selectOneMenu id="periodMonth2" value="#{jvProdController.currentProduction.periodMonth}" class="form-control input-sm m-b-10">                                              
                                        <f:selectItem itemValue="#{null}" itemLabel="--select--" />
                                        <f:selectItems value="#{generalController.months}" var="mth" itemValue="#{mth.month}" itemLabel="#{mth.monthStr}" />   
                                        <f:ajax />     
                                    </h:selectOneMenu>
                                   
                                    <h:outputLabel value="Asset Stream/Crude Type" for="csOptions2"/>
                                    <h:selectOneMenu id="csOptions2" value="#{jvProdController.currentProduction.contractStream}" class="form-control input-sm m-b-10" >
                                        <f:selectItems value="#{contractStreamController.itemsAvailableSelectOne}"/>
                                        <f:ajax/>
                                    </h:selectOneMenu>

                                    <h:outputLabel value="Daily Prod (bpd)" for="dailyProd2"/>
                                    <h:inputText id="dailyProd2" value = "#{jvProdController.currentProduction.productionVolume}"  class="form-control input-sm m-b-10" pt:placeholder="Gross Production"
                                                 >
                                        <f:ajax event="change" listener="#{jvProdController.productionVolumeChange}"  
                                                render="grossProd2 openingStock2 ownShareEntitlement2 partnerShareEntitlement2 closingStock2"
                                                />
                                    </h:inputText>

                                    <h:outputLabel value="Gross Prod" for="grossProd2"/>
                                    <h:inputText id="grossProd2" value = "#{jvProdController.currentProduction.grossProduction}"  class="form-control input-sm m-b-10" pt:placeholder="Gross Production">
                                        <f:convertNumber pattern="###,###,###.####" />
                                    </h:inputText>

                                    <h:outputLabel value="Own Entitlement" for="ownShareEntitlement2" />
                                    <h:inputText id="ownShareEntitlement2" value="#{jvProdController.currentProduction.ownShareEntitlement}" class="form-control input-sm m-b-10" title="Own Entitlement" >
                                        <f:convertNumber maxFractionDigits="2" groupingUsed="true" />
                                    </h:inputText>

                                    <h:outputLabel value="Partner Entitlement" for="partnerShareEntitlement2" />
                                    <h:inputText id="partnerShareEntitlement2" value="#{jvProdController.currentProduction.partnerShareEntitlement}" class="form-control input-sm m-b-10" title="Partner Entitlement" >
                                        <f:convertNumber pattern="###,###,###.####" />
                                    </h:inputText>

                                    <h:outputLabel value="Opening Stock" for="openingStock2" />
                                    <h:inputText id="openingStock2" value="#{jvProdController.currentProduction.openingStock}" class="form-control input-sm m-b-10" title="Opening Stock" >
                                        <f:convertNumber pattern="###,###,###.####" />
                                    </h:inputText>

                                    <h:outputLabel value="Availability" for="availability2" />
                                    <h:inputText id="availability2" value="#{jvProdController.currentProduction.availability}" class="form-control input-sm m-b-10" title="Availability">
                                        <f:convertNumber pattern="###,###,###.####" />
                                    </h:inputText>

                                    <h:outputLabel value="Lifting (Nom)" for="lifting2" />
                                    <h:inputText id="lifting2" value="#{jvProdController.currentProduction.lifting}" class="form-control input-sm m-b-10" title="Lifting (Nom)">
                                        <f:convertNumber pattern="###,###,###.####" />
                                    </h:inputText>

                                    <h:outputLabel value="Lifting Cargoes" for="cargoes2" />
                                    <h:inputText id="cargoes2" value="#{jvProdController.currentProduction.cargos}"  class="form-control input-sm m-b-10" title="Lifting Cargoes" />

                                    <h:outputLabel value="Closing Stock" for="closingStock2" />
                                    <h:inputText id="closingStock2" value="#{jvProdController.currentProduction.closingStock}" class="form-control input-sm m-b-10" title="Closing Stock" >
                                        <f:convertNumber pattern="###,###,###.####" />
                                    </h:inputText>

                                </h:panelGrid>
                            </h:form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-sm">Save changes</button>
                            <button type="button" class="btn btn-sm" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>  


        </ui:define>

    </ui:composition>

</html>

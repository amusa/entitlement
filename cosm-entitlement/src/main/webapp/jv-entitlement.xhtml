<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:b="http://bootsfaces.net/ui">

    <ui:composition template="/cosm-template.xhtml">


        <ui:define name="title">
            <h:outputText value="JV Entitlement"></h:outputText>
        </ui:define>

        <ui:define name="page-title">
            <h:outputText value="ENTITLEMENT"></h:outputText>
        </ui:define>

        <ui:define name="content-area">  
            <b:container>
                <p:growl id="growl" life="3000" />
                <!--            <b:container>-->
                <b:row> 
                    <h:form id="jvProdListForm">                   
                        <p:growl id="msgs" showDetail="false" />

                        <b:commandButton id="createButton" value="#{bundle.Create}" actionListener="#{jvProdController.prepareCreate}"  

                                         onclick="$('.modalPseudoClass').modal();return false;" class="btn btn-sm"
                                         immediate="true"/>

                        <b:commandButton id="createButton2" value="#{bundle.Create}" look="warning" pt:data-target="#amodal" pt:data-toggle="modal" 
                                         onclick="ajax:jvProdController.prepareCreate()" size="lg" class="btn btn-sm" update="modalForm" />

                        <h:commandButton id="createButton3" value="#{bundle.Create}" pt:look="warning" pt:data-target="#amodal" pt:data-toggle="modal" 
                                         onclick="ajax:jvProdController.prepareCreate()" pt:size="lg" class="btn btn-sm"  />


                    </h:form>
                </b:row>
                <b:row>
                    <h:form id="modalForm">
                        <b:modal id="amodal" title="Modal Example" styleClass="modalPseudoClass"
                                 closable="false" backdrop="false">

                            <h:panelGrid id="ActualParamPanel" columns="2" rendered="#{jvProdController.currentProduction ne null}">

                                <h:outputLabel value="Year" for="periodYear2"/>
                                <h:selectOneMenu id="periodYear2" value="#{jvProdController.currentProduction.periodYear}" class="select" >                                              
                                    <f:selectItems value="#{generalController.yearsAvailableSelectOne}" var="year" itemValue="#{year.value}"/>   
                                    <f:ajax listener="#{generalController.yearChanged}" event="change" render="periodMonth2"/>     
                                </h:selectOneMenu>

                                <h:outputLabel value="Month" for="periodMonth2"/>
                                <h:selectOneMenu id="periodMonth2" value="#{jvProdController.currentProduction.periodMonth}" class="select">                                              
                                    <f:selectItem itemValue="#{null}" itemLabel="--select--" />
                                    <f:selectItems value="#{generalController.months}" var="mth" itemValue="#{mth.month}" itemLabel="#{mth.monthStr}" />   
                                    <f:ajax />     
                                </h:selectOneMenu>

                                <h:outputLabel value="Asset Stream/Crude Type" for="csOptions2"/>
                                <h:selectOneMenu id="csOptions2" value="#{jvProdController.currentProduction.contractStream}" class="select" >
                                    <f:selectItems value="#{contractStreamController.itemsAvailableSelectOne}"/>
                                    <f:ajax/>
                                </h:selectOneMenu>

                                <h:outputLabel value="Daily Prod (bpd)" for="dailyProd2"/>
                                <h:inputText id="dailyProd2" value = "#{jvProdController.currentProduction.productionVolume}"  class="form-control input-sm m-b-10" pt:placeholder="Gross Production"
                                             >
                                    <f:ajax event="change" listener="#{jvProdController.productionVolumeChange}"  
                                            render="grossProd2 openingStock2 ownShareEntitlement2 partnerShareEntitlement2 closingStock2"
                                            />
                                </h:inputText>

                                <h:outputLabel value="Gross Prod" for="grossProd2"/>
                                <h:inputText id="grossProd2" value = "#{jvProdController.currentProduction.grossProduction}"  class="form-control input-sm m-b-10" pt:placeholder="Gross Production">
                                    <f:convertNumber pattern="###,###,###.####" />
                                </h:inputText>

                                <h:outputLabel value="Own Entitlement" for="ownShareEntitlement2" />
                                <h:inputText id="ownShareEntitlement2" value="#{jvProdController.currentProduction.ownShareEntitlement}" class="form-control input-sm m-b-10" title="Own Entitlement" >
                                    <f:convertNumber maxFractionDigits="2" groupingUsed="true" />
                                </h:inputText>

                                <h:outputLabel value="Partner Entitlement" for="partnerShareEntitlement2" />
                                <h:inputText id="partnerShareEntitlement2" value="#{jvProdController.currentProduction.partnerShareEntitlement}" class="form-control input-sm m-b-10" title="Partner Entitlement" >
                                    <f:convertNumber pattern="###,###,###.####" />
                                </h:inputText>

                                <h:outputLabel value="Opening Stock" for="openingStock2" />
                                <h:inputText id="openingStock2" value="#{jvProdController.currentProduction.openingStock}" class="form-control input-sm m-b-10" title="Opening Stock" >
                                    <f:convertNumber pattern="###,###,###.####" />
                                </h:inputText>

                                <h:outputLabel value="Availability" for="availability2" />
                                <h:inputText id="availability2" value="#{jvProdController.currentProduction.availability}" class="form-control input-sm m-b-10" title="Availability">
                                    <f:convertNumber pattern="###,###,###.####" />
                                </h:inputText>

                                <h:outputLabel value="Lifting (Nom)" for="lifting2" />
                                <h:inputText id="lifting2" value="#{jvProdController.currentProduction.lifting}" class="form-control input-sm m-b-10" title="Lifting (Nom)">
                                    <f:convertNumber pattern="###,###,###.####" />
                                </h:inputText>

                                <h:outputLabel value="Lifting Cargoes" for="cargoes2" />
                                <h:inputText id="cargoes2" value="#{jvProdController.currentProduction.cargos}"  class="form-control input-sm m-b-10" title="Lifting Cargoes" />

                                <h:outputLabel value="Closing Stock" for="closingStock2" />
                                <h:inputText id="closingStock2" value="#{jvProdController.currentProduction.closingStock}" class="form-control input-sm m-b-10" title="Closing Stock" >
                                    <f:convertNumber pattern="###,###,###.####" />
                                </h:inputText>

                            </h:panelGrid>
                            <h:commandButton actionListener="#{jvProdController.create}" value="#{bundle.Save}" />
                            <h:commandButton actionListener="#{jvProdController.cancel}" value="#{bundle.Cancel}" immediate="true"/>

                            <f:facet name="footer">
                                <b:button value="close" dismiss="modal" onclick="return false;"/>
                                <b:button value="#{bundle.Save}" look="primary" dismiss="modal" onclick="return false;"/>
                            </f:facet>
                        </b:modal>
                    </h:form>
                </b:row>
            </b:container>
        </ui:define>

    </ui:composition>

</html>
